import{d,r,m as u,p as v,o as c,h as n,b as o}from"./B0PQ7Bwp.js";const m={id:"app",class:"container mx-auto p-4"},p={key:0},h=["src"],_={key:1,class:"row"},g={class:"col-sm w-full"},f=["disabled"],y=d({__name:"camera",setup(b){const a=r(null),s=r(null),i=async()=>{try{const e=await navigator.mediaDevices.getUserMedia({video:!0});a.value&&(a.value.srcObject=e)}catch(e){console.error("Error accessing camera:",e)}},l=()=>{var t;const e=document.createElement("canvas");a.value&&(e.width=a.value.videoWidth,e.height=a.value.videoHeight,(t=e.getContext("2d"))==null||t.drawImage(a.value,0,0,e.width,e.height),s.value=e.toDataURL("image/png"),console.log("Captured image data:",s.value))};return u(()=>{i()}),v(()=>{a.value&&a.value.srcObject&&a.value.srcObject.getTracks().forEach(t=>t.stop())}),(e,t)=>(c(),n("div",m,[s.value?(c(),n("div",p,[o("img",{src:s.value,alt:""},null,8,h)])):(c(),n("div",_,[o("div",g,[o("video",{ref_key:"video",ref:a,autoplay:"",class:"w-full",style:{"max-width":"100%"}},null,512),o("button",{class:"btn btn-primary w-full bg-blue-500 text-white py-2 px-4 rounded mb-2",disabled:e.active,type:"button",onClick:l}," Capture Image ",8,f)])]))]))}});export{y as default};
